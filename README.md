# Hobglobin Take-Home Assessment

This project implements a Retrieval-Augmented Generation (RAG) pipeline to assist in drafting project proposals from PDF documents. It uses FastAPI, Gemini API, and a FAISS vector store.

## Prerequisites
- Python 3.10+
- Gemini API key (set as `GEMINI_API_KEY` environment variable)
- PDF documents in the `data` folder

## Setup
1. Clone the repository:
   ```bash
   git clone <repository-url>
   cd hobglobin_assessment
   ```
2. Create a virtual environment and activate it:
   ```bash
   python -m venv venv
  venv\Scripts\activate # on windows
   ```
3. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```
4. Set up the Gemini API key:
   - Create a `.env` file in the project root.
   - Add: `GEMINI_API_KEY=your-api-key`
5. Ensure PDF files are placed in the `data` folder.

## Running the Application
1. Start the FastAPI server:
   ```bash
   python main.py
   ```
2. The API will be available at `http://localhost:8000`.

## API Endpoints
- **GET /fine-prints**: Returns extracted fine-prints from the documents.
- **POST /chat**: Accepts a JSON payload with a `query` field and returns the chatbot response.
  Example:
  ```bash
  curl -X POST http://localhost:8000/chat -H "Content-Type: application/json" -d '{"query": "List all mandatory documents bidders must submit."}'
  ```

## Generating Outputs
- **fine_prints.txt**: Generated by running the `/fine-prints` endpoint.
- **chat_response.txt**: Generated by running the `/chat` endpoint with questions from `sample_questions.txt`.

## Running Outputs
1. To generate `fine_prints.txt`:
   ```bash
   curl http://localhost:8000/fine-prints > fine_prints.txt
   ```
2. To generate `chat_response.txt`:
   - Use the provided `sample_questions.txt` and query the `/chat` endpoint for each question.
   - Example script:
     ```python
     import requests
     questions = open("sample_questions.txt").readlines()
     with open("chat_response.txt", "w") as f:
         for q in questions:
             q = q.strip()
             if q:
                 response = requests.post("http://localhost:8000/chat", json={"query": q})
                 f.write(f"Q: {q}\nA: {response.json()['response']}\n\n")
     ```

## Notes
- Ensure the `data` folder contains the provided PDF files.
- Remove the `.env` file before submission to exclude the API key.
- The solution is designed to run locally and meet the MVP requirements within the recommended time.

## Submission
Zip the project folder (excluding `.env` and `__pycache__`):
```bash
zip -r submission.zip . -x "*.env" "__pycache__/*"
```